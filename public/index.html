<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Tutor B√≠blico Tito</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    .thinking {
      animation: shake 0.6s infinite;
    }
    @keyframes shake {
      0% { transform: rotate(0deg); }
      25% { transform: rotate(2deg); }
      50% { transform: rotate(-2deg); }
      75% { transform: rotate(2deg); }
      100% { transform: rotate(0deg); }
    }
    .acordeon-contenido {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease, padding 0.4s ease;
    }
    .acordeon-contenido.activo {
      max-height: 500px;
      padding: 10px;
    }
    #globo-tito {
      display: none;
      position: absolute;
      background-color: #fff;
      border: 2px solid #3498db;
      border-radius: 10px;
      padding: 10px;
      max-width: 300px;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
      z-index: 10;
      font-size: 1rem;
    }
    #globo-tito::after {
      content: "";
      position: absolute;
      bottom: 100%;
      left: 30px;
      border-width: 10px;
      border-style: solid;
      border-color: transparent transparent #3498db transparent;
    }
  </style>
</head>
<body style="font-family: Arial, sans-serif; max-width: 650px; margin: auto; padding: 2rem; background-color: #fef9f4; color: #2d3436;">

  <div style="position: relative; display: flex; align-items: center; background-color: #f5f8fa; border-radius: 12px; padding: 20px; box-shadow: 0px 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px;">
    <img id="tito-img" src="Tito parado.jpg" alt="Tutor Tito"
      ondblclick="titoBromea()" onclick="titoClickHandler()"
      style="cursor: pointer; width: 120px; border-radius: 50%; margin-right: 20px; transition: transform 0.3s ease;">
    <div id="globo-tito" role="tooltip"></div>
    <p id="presentacion-texto" style="font-size: 1.2rem; font-weight: 500;">
      Hola soy <strong>Tito</strong>, tu tutor virtual. Estoy para acompa√±arte en tu aprendizaje b√≠blico.
    </p>
  </div>

  <h1 style="font-size: 1.8rem; font-weight: bold; color: #2980b9;">üìñ Tutor B√≠blico IA</h1>

  <textarea id="input" rows="4" style="width: 100%; padding: 10px; font-size: 1rem; border-radius: 8px; border: 1px solid #ccc;" placeholder="Escribe tu pregunta aqu√≠..."></textarea>
  <br><br>

  <button onclick="enviarMensaje()" style="background-color: #3498db; color: white; padding: 10px 20px; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer;">Enviar pregunta</button>
  <button onclick="reconocerVoz()" style="background-color: #2ecc71; color: white; padding: 10px 20px; border: none; border-radius: 8px; font-size: 1rem; margin-left: 10px; cursor: pointer;">üé§ Dictar</button>
  <button onclick="detenerVoz()" style="background-color: #e74c3c; color: white; padding: 10px 20px; border: none; border-radius: 8px; font-size: 1rem; margin-top: 10px; cursor: pointer;">üõë Detener voz</button>

  <p id="cargando" style="display:none; font-style: italic; color: #888;">‚è≥ Tito est√° pensando...</p>

  <h3>Respuesta:</h3>
  <div id="respuesta" style="white-space: pre-wrap; background: #f3f3f3; padding: 1rem; border-radius: 5px;"></div>

  <button onclick="toggleMenu()" style="background-color: #8e44ad; color: white; padding: 10px 20px; border: none; border-radius: 8px; font-size: 1rem; margin-top: 10px; cursor: pointer;">üìò Aprende sobre la Biblia</button>
  <div id="menu-biblia" style="display: none; margin-top: 1rem;"></div>

  <script>
    let clickCount = 0;
    let clickTimer;
    const consejos = [
      "Conf√≠a en el Se√±or con todo tu coraz√≥n (Proverbios 3,5).",
      "No temas, porque yo estoy contigo (Isa√≠as 41,10).",
      "Ama a tu pr√≥jimo como a ti mismo (Mateo 22,39).",
      "Busca primero el Reino de Dios (Mateo 6,33).",
      "S√© constante en la oraci√≥n (Romanos 12,12).",
      "Dios es nuestro refugio y fortaleza (Salmo 46,1).",
      "Todo lo puedo en Cristo que me fortalece (Filipenses 4,13).",
      "Perdona setenta veces siete (Mateo 18,22).",
      "El Se√±or es mi pastor, nada me falta (Salmo 23,1).",
      "Bienaventurados los que tienen hambre de justicia (Mateo 5,6)."
    ];
    let consejoIndex = 0;

    function titoClickHandler() {
      clickCount++;
      clearTimeout(clickTimer);
      clickTimer = setTimeout(() => {
        if (clickCount === 1) {
          presentarseTito();
        } else if (clickCount === 3) {
          mostrarConsejo();
        }
        clickCount = 0;
      }, 400);
    }

    function mostrarConsejo() {
      const globo = document.getElementById("globo-tito");
      const consejo = consejos[consejoIndex];
      globo.textContent = consejo;
      globo.style.display = "block";
      globo.style.left = "130px";
      globo.style.top = "0px";
      hablar(consejo.replace(/\(([^,]+),\s?(\d+)\)/g, (match, libro, vers) => ` ${libro} cap√≠tulo ${vers} vers√≠culo ${vers}`));
      consejoIndex = (consejoIndex + 1) % consejos.length;
    }

    function hablar(texto) {
      speechSynthesis.cancel();
      const msg = new SpeechSynthesisUtterance(texto);
      msg.lang = "es-PE";
      speechSynthesis.speak(msg);
    }

    function detenerVoz() {
      speechSynthesis.cancel();
    }

    function titoBromea() {
      const imgTito = document.getElementById("tito-img");
      const texto = document.getElementById("presentacion-texto");
      const mensaje = "¬°Me haces cosquillas! ¬øQuieres hacerme una pregunta?";
      imgTito.src = "Tito riendo.png";
      texto.textContent = mensaje;
      hablar(mensaje);
      setTimeout(() => {
        imgTito.src = "Tito parado.jpg";
        texto.textContent = "Hola soy Tito, tu tutor virtual. Estoy para acompa√±arte en tu aprendizaje b√≠blico.";
      }, 6000);
    }

    const temas = [
      {
        titulo: '1. ¬øQu√© es la Biblia?',
        contenido: 'La Biblia es una colecci√≥n de libros inspirados por Dios que revelan progresivamente su voluntad salv√≠fica. Escrita por diversos autores en contextos hist√≥ricos distintos, forma una unidad teol√≥gica centrada en la historia de la alianza entre Dios y su pueblo. A trav√©s de relatos, leyes, profec√≠as y sabidur√≠a, la Biblia orienta a la humanidad hacia su plenitud en Cristo.'
      },
      {
        titulo: '2. Inspiraci√≥n y Revelaci√≥n',
        contenido: 'La revelaci√≥n es el acto por el cual Dios se da a conocer libremente en la historia, y la inspiraci√≥n es la acci√≥n del Esp√≠ritu Santo que mueve a los autores b√≠blicos a escribir lo que Dios quiere comunicar. La Sagrada Escritura no es dictado, sino fruto de una cooperaci√≥n divina-humana.'
      },
      {
        titulo: '3. El canon de la Biblia',
        contenido: 'El canon b√≠blico es el conjunto de libros reconocidos como inspirados por la comunidad de fe. En la Iglesia cat√≥lica incluye 46 libros del Antiguo Testamento y 27 del Nuevo. El canon expresa una tradici√≥n viva y normativa: no todo escrito antiguo es Escritura.'
      },
      {
        titulo: '4. Tipos, g√©neros y formas literarias',
        contenido: 'La Biblia contiene leyes, narraciones, poes√≠a, par√°bolas y discursos prof√©ticos. Cada forma literaria comunica una verdad teol√≥gica de modo espec√≠fico. Interpretar correctamente implica respetar los g√©neros, el contexto y la intenci√≥n del autor inspirado.'
      },
      {
        titulo: '5. Contexto cultural e hist√≥rico del Antiguo Testamento',
        contenido: 'El Antiguo Testamento se configura en di√°logo con culturas del Antiguo Cercano Oriente. Las leyes, s√≠mbolos y estructuras sociales muestran influencias compartidas, pero reinterpretadas desde la fe en el Dios √∫nico y libertador.'
      },
      {
        titulo: '6. Contexto cultural e hist√≥rico del Nuevo Testamento',
        contenido: 'El Nuevo Testamento nace en un mundo helenizado y bajo dominio romano. Jes√∫s vive en una Palestina pluricultural, con tensiones religiosas, pol√≠ticas y sociales. El kerigma cristiano surge como cumplimiento de las promesas del Antiguo Testamento.'
      },
      {
        titulo: '7. La alianza como eje transversal',
        contenido: 'La alianza estructura la revelaci√≥n b√≠blica desde G√©nesis hasta Apocalipsis. Iniciada con No√©, particularizada en Abrah√°n, formalizada en Mois√©s y renovada en David, esta culmina en Jes√∫s con la nueva y eterna alianza.'
      }
    ];

    function toggleMenu() {
      const menu = document.getElementById("menu-biblia");
      if (menu.innerHTML === "") {
        temas.forEach((tema, i) => {
          const id = i + 1;
          menu.innerHTML += `<div>
            <button onclick="toggleContenido(${id})" style="background-color: #3498db; color: white; width: 100%; padding: 10px; margin-bottom: 5px; text-align: left; border: none; border-radius: 6px; cursor: pointer;">${tema.titulo}</button>
            <div id="contenido${id}" class="acordeon-contenido"><p>${tema.contenido}</p></div>
          </div>`;
        });
      }
      menu.style.display = menu.style.display === "none" ? "block" : "none";
    }

    function toggleContenido(num) {
      const contenido = document.getElementById(`contenido${num}`);
      const todos = document.querySelectorAll(".acordeon-contenido");
      if (!contenido.classList.contains("activo")) {
        todos.forEach(div => div.classList.remove("activo"));
        contenido.classList.add("activo");
        hablar(contenido.textContent);
      } else {
        contenido.classList.remove("activo");
        detenerVoz();
      }
    }
  </script>

</body>
</html>













