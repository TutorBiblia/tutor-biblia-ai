<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tutor Bíblico Tito</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #fff6ed;
      margin: 0;
      padding: 10px;
    }

    .presentacion {
      background-color: #e9f2ff;
      padding: 10px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .presentacion img {
      width: 80px;
      height: auto;
      border-radius: 50%;
    }

    .botones {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    button {
      padding: 10px;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      color: white;
      cursor: pointer;
      flex: 1 1 45%;
    }

    #enviarBtn { background-color: #007bff; }
    #dictarBtn { background-color: #28a745; }
    #detenerBtn { background-color: #dc3545; }
    #bibliaBtn { background-color: #6f42c1; }

    #menuBiblia {
      display: none;
      margin-top: 20px;
      background-color: #f1f8ff;
      padding: 15px;
      border-radius: 10px;
      border-left: 5px solid #2196f3;
    }

    #menuBiblia ul {
      list-style: none;
      padding-left: 0;
    }

    #menuBiblia li {
      cursor: pointer;
      padding: 10px;
      margin-bottom: 8px;
      background-color: #e3ecf9;
      border-radius: 5px;
    }

    #menuBiblia li:hover {
      background-color: #d2e3f7;
    }

    #explicacion {
      margin-top: 15px;
      padding: 10px;
      background-color: #ffffff;
      border-left: 4px solid #2196f3;
      border-radius: 5px;
    }
  </style>
</head>
<body>

  <div class="presentacion" ondblclick="hacerDobleClic()" onclick="controladorClick()">
    <img id="imagenTito" src="Tito parado.jpg" alt="Tito">
    <div>
      <strong id="frase1">Hola soy Tito, tu tutor virtual.</strong><br>
      <span id="frase2">Estoy para acompañarte en tu aprendizaje bíblico.</span>
    </div>
  </div>

  <h2>📖 Tutor Bíblico IA</h2>

  <textarea placeholder="Escribe tu pregunta aquí..." style="width: 100%; height: 50px; font-size: 16px;"></textarea>

  <div class="botones">
    <button id="enviarBtn">Enviar pregunta</button>
    <button id="dictarBtn">🎤 Dictar</button>
    <button id="detenerBtn">⏺️ Detener voz</button>
    <button id="bibliaBtn" onclick="toggleMenu()">📖 Aprende la Biblia</button>
  </div>

  <div id="menuBiblia">
    <ul>
      <li onclick="mostrarTexto(0)">1. ¿Qué es la Biblia?</li>
      <li onclick="mostrarTexto(1)">2. Inspiración y Revelación</li>
      <li onclick="mostrarTexto(2)">3. ¿Qué es el Canon Bíblico?</li>
      <li onclick="mostrarTexto(3)">4. Géneros y Formas Literarias</li>
      <li onclick="mostrarTexto(4)">5. Contexto del Antiguo Testamento</li>
      <li onclick="mostrarTexto(5)">6. Contexto del Nuevo Testamento</li>
      <li onclick="mostrarTexto(6)">7. La Alianza como hilo conductor</li>
    </ul>
    <div id="explicacion"></div>
  </div>

  <script>
    let clickTimer;
    const imagenTito = document.getElementById("imagenTito");
    const frase1 = document.getElementById("frase1");
    const frase2 = document.getElementById("frase2");

    const titoParado = "Tito parado.jpg";
    const titoRiendo = "Tito riendo.png";

    const textos = [
  "La Biblia es la recopilación de libros que narran la revelación de Dios en la historia. Escrita por diversos autores y en distintos contextos, su unidad se da por la acción del Espíritu Santo. El Antiguo Testamento recoge la historia del pueblo de Israel, mientras que el Nuevo Testamento revela la plenitud de la salvación en Cristo. A través de relatos, leyes, profecías y enseñanzas, la Biblia forma la base de la fe cristiana y orienta la vida del creyente hacia la comunión con Dios.",
  "La inspiración es el soplo del Espíritu que impulsa a los autores sagrados a escribir según la voluntad divina. La revelación es el acto por el cual Dios se manifiesta a la humanidad, culminando en Jesucristo, Palabra encarnada. La Biblia recoge esta revelación, escrita bajo inspiración divina y transmitida fielmente por la comunidad de fe. Inspiración y revelación trabajan juntas: la primera garantiza la fidelidad al mensaje de Dios; la segunda revela su deseo de comunicarse con su pueblo.",
  "El canon bíblico es el conjunto de libros reconocidos como inspirados y normativos por la Iglesia. En la tradición católica, comprende 73 libros. Su formación fue progresiva, discernida por el uso litúrgico, la enseñanza apostólica y la fidelidad doctrinal. El canon garantiza unidad y autenticidad en la fe. Su definición respondió a desafíos doctrinales y pastorales, guiada por el Espíritu Santo y el discernimiento eclesial. Es criterio seguro para interpretar la revelación divina.",
  "La Biblia no es un libro uniforme, sino una biblioteca de géneros: narraciones, leyes, salmos, proverbios, cartas y apocalipsis. Cada forma literaria responde a un contexto y propósito. Leer adecuadamente la Escritura exige identificar el género empleado: el lenguaje simbólico del Génesis no se interpreta como crónica histórica, y las parábolas de Jesús no son fábulas. El género guía al lector a captar el sentido profundo que Dios quiere comunicar en cada texto.",
  "El Antiguo Testamento refleja culturas como la mesopotámica, egipcia, cananea y persa. Sus instituciones, relatos y leyes tienen paralelos en el antiguo Oriente Próximo. Comprender ese trasfondo histórico permite captar mejor el alcance y originalidad del mensaje bíblico. La figura del rey, la alianza, el templo o los profetas responden a modelos culturales, pero transformados por la fe en el Dios de Israel. La historia de la salvación ocurre en coordenadas culturales concretas.",
  "El Nuevo Testamento se sitúa en un mundo grecorromano con raíces judías. Jesús vivió bajo la dominación romana, predicando dentro del judaísmo del Segundo Templo. Sus palabras y signos remiten a las promesas del AT, pero en clave escatológica y mesiánica. Pablo y los demás apóstoles anunciaron a Cristo en ciudades helenísticas, usando categorías filosóficas y religiosas de su tiempo. Entender este contexto histórico y cultural ilumina el alcance misionero y universal del Evangelio.",
  "La alianza es el eje que articula toda la revelación bíblica. Dios se compromete libremente con la humanidad mediante pactos: con Noé, Abrahán, Moisés y David. Cada alianza revela progresivamente el designio salvífico de Dios. La culminación se da en la nueva alianza en Cristo, sellada con su sangre y abierta a toda la humanidad. Esta continuidad da unidad a la Biblia y sentido a la historia: Dios es fiel, y su amor es irrevocable."
];

    function hacerClic() {
      imagenTito.src = titoParado;
      frase1.innerText = "Hola soy Tito, tu tutor virtual.";
      frase2.innerText = "Estoy para acompañarte en tu aprendizaje bíblico.";
      hablar(frase1.innerText + " " + frase2.innerText);
    }

    function hacerDobleClic() {
      clearTimeout(clickTimer);
      imagenTito.src = titoRiendo;
      frase1.innerText = "¡Me haces cosquillas!";
      frase2.innerText = "¿Quieres hacerme una pregunta?";
      hablar(frase1.innerText + " " + frase2.innerText);
      setTimeout(() => {
        hacerClic();
      }, 6000);
    }

    function controladorClick() {
      clearTimeout(clickTimer);
      clickTimer = setTimeout(() => {
        hacerClic();
      }, 300);
    }

    function toggleMenu() {
      const menu = document.getElementById("menuBiblia");
      menu.style.display = menu.style.display === "block" ? "none" : "block";
    }

    function mostrarTexto(index) {
      document.getElementById("explicacion").innerText = textos[index];
      hablar(textos[index]);
    }

    function hablar(texto) {
  detenerVoz();
  const speech = new SpeechSynthesisUtterance();
  speech.lang = "es-ES";
  speech.text = texto;
  window.speechSynthesis.speak(speech);
}
  function detenerVoz() {
  if (window.speechSynthesis.speaking) {
    window.speechSynthesis.cancel();
  }
}

// Vincular botón de detener voz
const detenerBtn = document.getElementById("detenerBtn");
detenerBtn.addEventListener("click", detenerVoz);

// Restaurar botón de dictado (reconocimiento de voz)
const dictarBtn = document.getElementById("dictarBtn");
const textarea = document.querySelector("textarea");

if ('webkitSpeechRecognition' in window) {
  const reconocimiento = new webkitSpeechRecognition();
  reconocimiento.lang = "es-ES";
  reconocimiento.continuous = false;
  reconocimiento.interimResults = false;

  dictarBtn.addEventListener("click", () => {
    reconocimiento.start();
  });

  reconocimiento.onresult = (event) => {
    const resultado = event.results[0][0].transcript;
    textarea.value = resultado;
  };

  reconocimiento.onerror = (event) => {
    console.error("Error en reconocimiento de voz:", event.error);
  };
}

// Añadir respuesta simulada al botón enviar
const enviarBtn = document.getElementById("enviarBtn");

enviarBtn.addEventListener("click", () => {
  const pregunta = textarea.value.trim();
  if (pregunta) {
    const respuesta = "Estoy pensando... dame unos segundos.";
    hablar(respuesta);
    setTimeout(() => {
      const respuestaFinal = "Esa es una excelente pregunta. En la Biblia, encontramos que... (respuesta simulada)";
      hablar(respuestaFinal);
      document.getElementById("explicacion").innerText = respuestaFinal;
    }, 3000);
  }
});

</script>

</body>
</html>






